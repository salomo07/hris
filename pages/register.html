<!doctype html>
<html lang="en" dir="ltr">

    <head>
        <meta charset="UTF-8">
        <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="Sash â€“ Bootstrap 5  Admin & Dashboard Template">
        <meta name="author" content="Spruko Technologies Private Limited">
        <meta name="keywords" content="admin,admin dashboard,admin panel,admin template,bootstrap,clean,dashboard,flat,jquery,modern,responsive,premium admin templates,responsive admin,ui,ui kit.">
        <meta name="google-signin-client_id" content="{{.cid}}">

        <!-- FAVICON -->
        <link rel="shortcut icon" type="image/x-icon" href="../assets/images/brand/favicon.ico" />

        <!-- TITLE -->
        <title>{{.appname}}</title>

        <!-- BOOTSTRAP CSS -->
        <link id="style" href="../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

        <!-- STYLE CSS -->
        <link href="assets/css/style.css" rel="stylesheet" />
        <link href="../assets/css/dark-style.css" rel="stylesheet" />
        <link href="../assets/css/transparent-style.css" rel="stylesheet">
        <link href="../assets/css/skin-modes.css" rel="stylesheet" />

        <!--- FONT-ICONS CSS -->
        <link href="../assets/css/icons.css" rel="stylesheet" />

        <!-- COLOR SKIN CSS -->
        <link id="theme" rel="stylesheet" type="text/css" media="all" href="../assets/colors/color1.css" />

        <!-- INTERNAL SWITCHER CSS -->
        <link href="../assets/switcher/css/switcher.css" rel="stylesheet" />
        <link href="../assets/switcher/demo.css" rel="stylesheet" />
        <link href="../assets/css/smart_wizard_all.min.css" rel="stylesheet" type="text/css" />
    </head>

    <body class="app sidebar-mini login-img ltr">

        <!-- BACKGROUND-IMAGE -->
        <div class="">

            <!-- GLOABAL LOADER -->
            <div id="global-loader">
                <img src="../assets/images/loader.svg" class="loader-img" alt="Loader">
            </div>
            <!-- /GLOABAL LOADER -->

            <!-- PAGE -->
            <div class="page">
                <div class="">
                    <!-- Theme-Layout -->

                    <!-- CONTAINER OPEN -->
                    <div class="col col-login mx-auto mt-7">
                        <div class="text-center">
                            <h2 class="dark-mode">{{.appname}}</h2>
                        </div>
                    </div>
                    <div class="container-login100">
                        <div class="wrap-login100 p-6">
                            <form class="login100-form validate-form">
                                <span class="login100-form-title">
                                    Registration
                                </span>
                                <div id="smartwizard">

								    <ul class="nav">
								        <li class="nav-item">
								          <a class="nav-link" href="#step-1">
								            <div class="num">1</div>
								            Account
								          </a>
								        </li>
								        <li class="nav-item">
								          <a class="nav-link" href="#step-2">
								            <span class="num">2</span>
								            Step Title
								          </a>
								        </li>
								    </ul>
								    <div class="tab-content">
								        <div id="step-1" class="tab-pane" role="tabpanel" aria-labelledby="step-1">
								            <div class="wrap-input100 validate-input input-group" data-bs-validate="Valid email is required: ex@abc.xyz">
			                                    <a href="javascript:void(0)" class="input-group-text bg-white text-muted">
			                                        <i class="mdi mdi-account" aria-hidden="true"></i>
			                                    </a>
			                                    <input class="input100 border-start-0 ms-0 form-control" type="text" placeholder="User name">
			                                </div>
			                                <div class="wrap-input100 validate-input input-group" data-bs-validate="Valid email is required: ex@abc.xyz">
			                                    <a href="javascript:void(0)" class="input-group-text bg-white text-muted">
			                                        <i class="zmdi zmdi-email" aria-hidden="true"></i>
			                                    </a>
			                                    <input class="input100 border-start-0 ms-0 form-control" type="email" placeholder="Email">
			                                </div>
			                                <div class="wrap-input100 validate-input input-group" id="Password-toggle">
			                                    <a href="javascript:void(0)" class="input-group-text bg-white text-muted">
			                                        <i class="zmdi zmdi-eye" aria-hidden="true"></i>
			                                    </a>
			                                    <input class="input100 border-start-0 ms-0 form-control" type="password" placeholder="Password">
			                                </div>
			                                <label class="custom-control custom-checkbox mt-4">
			                                    <input type="checkbox" class="custom-control-input">
			                                    <span class="custom-control-label">Agree the <a href="/terms">terms and policy</a></span>
			                                </label>
			                                <div class="container-login100-form-btn">
			                                    <a href="index.html" class="login100-form-btn btn-primary">
			                                            Register
			                                        </a>
			                                </div>
			                                <div class="text-center pt-3">
			                                    <p class="text-dark mb-0">Already have account?<a href="/login" class="text-primary ms-1">Sign In</a></p>
			                                </div>
			                                <label class="login-social-icon"><span>Register with Social</span></label>
			                                <div class="d-flex justify-content-center">
											    <a id="customBtn">
			                                        <div class="social-login me-4 text-center" data-onsuccess="onSignIn">
			                                            <i class="fa fa-google"></i>
			                                        </div>
			                                    </a>
			                                    <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
												</fb:login-button>
			                                    <a id="fbBtn" onclick="onClickFB()" href="javascript:void(0)">
			                                        <div class="social-login me-4 text-center">
			                                            <i class="fa fa-facebook"></i>
			                                        </div>
			                                    </a>
			                                    <a href="javascript:void(0)">
			                                        <div class="social-login text-center">
			                                            <i class="fa fa-twitter"></i>
			                                        </div>
			                                    </a>
			                                </div>
								        </div>
								        <div id="step-2" class="tab-pane" role="tabpanel" aria-labelledby="step-2">
								            Step content
								        </div>
								    </div>

								    <!-- Include optional progressbar HTML -->
								    
								</div>
                            </form>
                        </div>
                    </div>
                    <!-- CONTAINER CLOSED -->
                </div>
            </div>
            <!-- END PAGE -->

        </div>
        <!-- BACKGROUND-IMAGE CLOSED -->

        
        <!-- JQUERY JS -->
        <script src="../assets/js/jquery.min.js"></script>

        <!-- BOOTSTRAP JS -->
        <script src="../assets/plugins/bootstrap/js/popper.min.js"></script>
        <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>

        <!-- PERFECT SCROLLBAR JS-->
        <script src="../assets/plugins/p-scroll/perfect-scrollbar.js"></script>

        <!-- THEME COLORS JS  -->
        <script src="../assets/js/themeColors.js"></script>

        <!-- CUSTOM JS -->
        <script src="../assets/js/custom.js"></script>
        <!-- SHOW PASSWORD JS -->
        <script src="../assets/js/show-password.min.js"></script>
        
        <script src="https://cdn.jsdelivr.net/npm/smartwizard@6/dist/js/jquery.smartWizard.min.js" type="text/javascript"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script src="https://apis.google.com/js/api:client.js"></script>
    </body>

</html>
<script>
	$('#smartwizard').smartWizard({
		selected: 0,
        theme: 'dots',
        toolbar:{position :'top',showNextButton: false,showPreviousButton: false}
    });

    var googleUser = {};
	var startApp = function() {
	gapi.load('auth2', function(){
	  auth2 = gapi.auth2.init({clientId: '{{.cid}}',scope: 'email',plugin_name:'LoginHRIS'
	  });
	  attachSignin(document.getElementById('customBtn'));
	});
	};

	function attachSignin(element) {
	console.log(element.id);
	auth2.attachClickHandler(element, {},
	    function(googleUser) {
	    	console.log("xxxxxxxxxxxxxxx",googleUser.getBasicProfile().getEmail())
	    }, function(error) {
	      console.log(JSON.stringify(error, undefined, 2));
	    });
	}
	startApp();

	var callPOST=((url,data,scs,err)=>{
	    var settings = {
	      "url": url,"method": "POST","data": JSON.stringify(data),
	      "success":((result)=>{
	        if(result.error!=undefined){toastr.error(result.error,"Error");err();return}
	        if(result==null){
	          err({"error":"no response"})
	        }else if (result!=null){
	          scs(result)
	        }
	      }),
	      "error":(request, status, error)=>{
	        try{
	          JSON.parse(request.responseText).result
	          if (JSON.parse(request.responseText).result == "Unauthorized"){
	            alert("Your session is over, please sign in !!!");
	            window.location.href = "/";
	          }
	        }
	        catch(err) {
	          toastr.error(err.message,"Error");
	        }
	      }
	    };
	    $.ajax(settings)
	})

	window.fbAsyncInit = function() {
	FB.init({
		  appId      : '562502205568851',
		  cookie     : true,
		  xfbml      : false,
		  version    : 'v2.7'
		});
		console.log("ddddddd",FB.Event)  
		FB.AppEvents.logPageView();   
		// FB.Event.subscribe('xfbml.render', finished_rendering);
	};

	(function(d, s, id){
	 var js, fjs = d.getElementsByTagName(s)[0];
	 if (d.getElementById(id)) {return;}
	 js = d.createElement(s); js.id = id;
	 js.src = "https://connect.facebook.net/en_US/sdk.js";
	 fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
	var onClickFB=()=>{
		FB.login(function(response) {}, {scope: 'public_profile,email'});
	}
</script>